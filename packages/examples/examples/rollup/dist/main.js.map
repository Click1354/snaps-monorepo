{"version":3,"file":"main.js","sources":["../src/index.ts"],"sourcesContent":["/* eslint-disable @typescript-eslint/no-non-null-assertion */\n\nimport type { MetaMaskInpageProvider } from '@metamask/providers';\n\ndeclare global {\n  const ethereum: MetaMaskInpageProvider;\n}\n\nconst snapId = `local:${window.location.href}`;\n\nconst connectButton = document.querySelector('button.connect')!;\nconst sendInAppButton = document.querySelector('button.sendInApp')!;\nconst sendNativeButton = document.querySelector('button.sendNative')!;\n\nconnectButton.addEventListener('click', connect);\nsendInAppButton.addEventListener('click', () => send('inApp'));\nsendNativeButton.addEventListener('click', () => send('native'));\n\n/**\n * Get permission to interact with and install the snap.\n */\nasync function connect() {\n  await ethereum.request({\n    method: 'wallet_enable',\n    params: [\n      {\n        wallet_snap: { [snapId]: {} },\n      },\n    ],\n  });\n}\n\n/**\n * Call the snap's `inApp` or `native` method. This function triggers an alert\n * if the call failed.\n *\n * @param method - The method to call. Must be one of `inApp` or `native`.\n */\nasync function send(method: 'inApp' | 'native') {\n  try {\n    await ethereum.request({\n      method: 'wallet_invokeSnap',\n      params: [\n        snapId,\n        {\n          method,\n        },\n      ],\n    });\n  } catch (err) {\n    console.error(err);\n    alert(`Problem happened: ${err.message}` || err);\n  }\n}\n\nexport {};\n"],"names":["snapId","window","location","href","connectButton","document","querySelector","sendInAppButton","sendNativeButton","addEventListener","connect","send","ethereum","request","method","params","wallet_snap","err","console","error","alert","message"],"mappings":"AAAA;AAQA,MAAMA,MAAM,GAAI,CAAQC,MAAAA,EAAAA,MAAM,CAACC,QAAP,CAAgBC,IAAK,CAA7C,CAAA,CAAA;AAEA,MAAMC,aAAa,GAAGC,QAAQ,CAACC,aAAT,CAAuB,gBAAvB,CAAtB,CAAA;AACA,MAAMC,eAAe,GAAGF,QAAQ,CAACC,aAAT,CAAuB,kBAAvB,CAAxB,CAAA;AACA,MAAME,gBAAgB,GAAGH,QAAQ,CAACC,aAAT,CAAuB,mBAAvB,CAAzB,CAAA;AAEAF,aAAa,CAACK,gBAAd,CAA+B,OAA/B,EAAwCC,OAAxC,CAAA,CAAA;AACAH,eAAe,CAACE,gBAAhB,CAAiC,OAAjC,EAA0C,MAAME,IAAI,CAAC,OAAD,CAApD,CAAA,CAAA;AACAH,gBAAgB,CAACC,gBAAjB,CAAkC,OAAlC,EAA2C,MAAME,IAAI,CAAC,QAAD,CAArD,CAAA,CAAA;AAEA;AACA;AACA;;AACA,eAAeD,OAAf,GAAyB;EACvB,MAAME,QAAQ,CAACC,OAAT,CAAiB;AACrBC,IAAAA,MAAM,EAAE,eADa;AAErBC,IAAAA,MAAM,EAAE,CACN;AACEC,MAAAA,WAAW,EAAE;AAAE,QAAA,CAAChB,MAAD,GAAU,EAAA;AAAZ,OAAA;KAFT,CAAA;AAFa,GAAjB,CAAN,CAAA;AAQD,CAAA;AAED;AACA;AACA;AACA;AACA;AACA;;;AACA,eAAeW,IAAf,CAAoBG,MAApB,EAAgD;EAC9C,IAAI;IACF,MAAMF,QAAQ,CAACC,OAAT,CAAiB;AACrBC,MAAAA,MAAM,EAAE,mBADa;MAErBC,MAAM,EAAE,CACNf,MADM,EAEN;AACEc,QAAAA,MAAAA;OAHI,CAAA;AAFa,KAAjB,CAAN,CAAA;GADF,CAUE,OAAOG,GAAP,EAAY;IACZC,OAAO,CAACC,KAAR,CAAcF,GAAd,CAAA,CAAA;IACAG,KAAK,CAAE,qBAAoBH,GAAG,CAACI,OAAQ,CAAjC,CAAA,IAAsCJ,GAAvC,CAAL,CAAA;AACD,GAAA;AACF"}